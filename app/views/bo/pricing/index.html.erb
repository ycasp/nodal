<% content_for :bo_main_content do %>

<!-- Sticky Header -->
<div class="bo-page-header">
  <div class="d-flex justify-content-between align-items-start">
    <div>
      <h1>Pricing & Discounts</h1>
      <p class="text-muted mb-0">Manage product discounts, client pricing tiers, and custom pricing rules</p>
    </div>
    <div class="bo-page-actions">
      <% case @tab %>
      <% when 'product_discounts' %>
        <%= link_to new_bo_product_discount_path(params[:org_slug]), class: "btn btn-primary" do %>
          <i class="fa-solid fa-plus me-1"></i> Add Discount
        <% end %>
      <% when 'client_tiers' %>
        <%= link_to new_bo_customer_discount_path(params[:org_slug]), class: "btn btn-primary" do %>
          <i class="fa-solid fa-plus me-1"></i> Add Discount
        <% end %>
      <% when 'custom_pricing' %>
        <%= link_to new_bo_customer_product_discount_path(params[:org_slug]), class: "btn btn-primary" do %>
          <i class="fa-solid fa-plus me-1"></i> Add Discount
        <% end %>
      <% when 'order_tiers' %>
        <%= link_to new_bo_order_discount_path(params[:org_slug]), class: "btn btn-primary" do %>
          <i class="fa-solid fa-plus me-1"></i> Add Discount
        <% end %>
      <% end %>
    </div>
  </div>
</div>

<!-- Page Body -->
<div class="bo-page-body">
  <!-- Tab Navigation -->
  <div class="card mb-4">
    <div class="card-body p-0">
      <ul class="nav nav-pills nav-fill border-bottom" role="tablist">
        <li class="nav-item" role="presentation">
          <%= link_to bo_pricing_path(params[:org_slug], tab: 'product_discounts'),
              class: "nav-link rounded-0 py-3 #{'active' if @tab == 'product_discounts'}" do %>
            <i class="fa-solid fa-tag me-2"></i>Product Discounts
          <% end %>
        </li>
        <li class="nav-item" role="presentation">
          <%= link_to bo_pricing_path(params[:org_slug], tab: 'client_tiers'),
              class: "nav-link rounded-0 py-3 #{'active' if @tab == 'client_tiers'}" do %>
            <i class="fa-solid fa-users me-2"></i>Client Tiers
          <% end %>
        </li>
        <li class="nav-item" role="presentation">
          <%= link_to bo_pricing_path(params[:org_slug], tab: 'custom_pricing'),
              class: "nav-link rounded-0 py-3 #{'active' if @tab == 'custom_pricing'}" do %>
            <i class="fa-solid fa-dollar-sign me-2"></i>Custom Pricing
          <% end %>
        </li>
        <li class="nav-item" role="presentation">
          <%= link_to bo_pricing_path(params[:org_slug], tab: 'order_tiers'),
              class: "nav-link rounded-0 py-3 #{'active' if @tab == 'order_tiers'}" do %>
            <i class="fa-solid fa-cart-shopping me-2"></i>Order Tiers
          <% end %>
        </li>
      </ul>
    </div>
  </div>

  <!-- Tab Content -->
  <% case @tab %>
  <% when 'product_discounts' %>
    <%= render 'product_discounts' %>
  <% when 'client_tiers' %>
    <%= render 'client_tiers' %>
  <% when 'custom_pricing' %>
    <%= render 'custom_pricing' %>
  <% when 'order_tiers' %>
    <%= render 'order_tiers' %>
  <% end %>
</div>

<% end %>
