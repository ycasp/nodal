<!-- Success banner -->
<table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin: 0 0 32px 0;">
  <tr>
    <td style="background: linear-gradient(135deg, #008060 0%, #00a67d 100%); background-color: #008060; border-radius: 12px; padding: 24px; text-align: center;">
      <table role="presentation" cellspacing="0" cellpadding="0" border="0" align="center">
        <tr>
          <td style="background-color: rgba(255,255,255,0.2); border-radius: 50%; width: 48px; height: 48px; text-align: center; vertical-align: middle;">
            <span style="font-size: 24px; line-height: 48px;">âœ“</span>
          </td>
        </tr>
      </table>
      <h1 style="margin: 16px 0 0 0; font-size: 24px; font-weight: 700; color: #ffffff;">
        Order Confirmed!
      </h1>
    </td>
  </tr>
</table>

<p style="margin: 0 0 8px 0; font-size: 16px;">Hello <strong><%= @customer.contact_name %></strong>,</p>

<p style="margin: 0 0 32px 0; color: #4b5563;">
  Great news! Your order has been confirmed and is being processed. Here's a summary of what you ordered:
</p>

<!-- Order items card -->
<table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin: 0 0 32px 0; border: 1px solid #e5e5e5; border-radius: 12px; overflow: hidden;">
  <!-- Card header -->
  <tr>
    <td colspan="3" style="padding: 16px 20px; background-color: #f9fafb; border-bottom: 1px solid #e5e5e5;">
      <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
        <tr>
          <td>
            <span style="font-size: 14px; font-weight: 600; color: #1a1a1a; text-transform: uppercase; letter-spacing: 0.5px;">Order Summary</span>
          </td>
          <td align="right">
            <span style="font-size: 13px; color: #6b7177;"><%= @order.order_items.count %> item<%= @order.order_items.count != 1 ? 's' : '' %></span>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <!-- Table header -->
  <tr>
    <td style="padding: 12px 20px; background-color: #ffffff; border-bottom: 1px solid #f3f4f6; font-size: 12px; font-weight: 600; color: #9ca3af; text-transform: uppercase; letter-spacing: 0.5px;">
      Product
    </td>
    <td align="center" style="padding: 12px 16px; background-color: #ffffff; border-bottom: 1px solid #f3f4f6; font-size: 12px; font-weight: 600; color: #9ca3af; text-transform: uppercase; letter-spacing: 0.5px; width: 60px;">
      Qty
    </td>
    <td align="right" style="padding: 12px 20px; background-color: #ffffff; border-bottom: 1px solid #f3f4f6; font-size: 12px; font-weight: 600; color: #9ca3af; text-transform: uppercase; letter-spacing: 0.5px; width: 100px;">
      Price
    </td>
  </tr>
  <!-- Order items -->
  <% @order.order_items.each_with_index do |item, index| %>
    <tr>
      <td style="padding: 16px 20px; background-color: #ffffff; <%= index < @order.order_items.count - 1 ? 'border-bottom: 1px solid #f3f4f6;' : '' %>">
        <span style="font-size: 15px; font-weight: 500; color: #1a1a1a;"><%= item.product.name %></span>
      </td>
      <td align="center" style="padding: 16px; background-color: #ffffff; <%= index < @order.order_items.count - 1 ? 'border-bottom: 1px solid #f3f4f6;' : '' %>">
        <span style="display: inline-block; background-color: #f3f4f6; padding: 4px 12px; border-radius: 20px; font-size: 14px; font-weight: 600; color: #4b5563;"><%= item.quantity %></span>
      </td>
      <td align="right" style="padding: 16px 20px; background-color: #ffffff; <%= index < @order.order_items.count - 1 ? 'border-bottom: 1px solid #f3f4f6;' : '' %>">
        <span style="font-size: 15px; font-weight: 500; color: #1a1a1a;"><%= item.total_price.format %></span>
      </td>
    </tr>
  <% end %>
  <!-- Total row -->
  <tr>
    <td colspan="2" style="padding: 16px 20px; background-color: #f9fafb; border-top: 2px solid #e5e5e5;">
      <span style="font-size: 15px; font-weight: 700; color: #1a1a1a;">Total</span>
    </td>
    <td align="right" style="padding: 16px 20px; background-color: #f9fafb; border-top: 2px solid #e5e5e5;">
      <span style="font-size: 18px; font-weight: 700; color: #008060;"><%= @order.total_amount.format %></span>
    </td>
  </tr>
</table>

<!-- What's next section -->
<table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin: 0 0 24px 0;">
  <tr>
    <td style="padding: 20px; background-color: #f0fdf4; border-radius: 12px; border-left: 4px solid #008060;">
      <p style="margin: 0 0 8px 0; font-size: 14px; font-weight: 600; color: #166534;">What's next?</p>
      <p style="margin: 0; font-size: 14px; color: #4b5563; line-height: 1.5;">
        We're preparing your order now. You'll receive another email when it's ready for delivery or pickup.
      </p>
    </td>
  </tr>
</table>

<p style="margin: 0; color: #9ca3af; font-size: 13px; text-align: center;">
  Questions about your order? Just reply to this email.
</p>
